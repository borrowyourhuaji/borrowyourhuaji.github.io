<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>yolo | meow~</title>
  <meta name="description" content="使用 Ultralytics YOLO 进行模型预测 简介 在机器学习和计算机视觉领域，对视觉数据进行理解处理的过程称为“推理”（‘inference’）或“预测”（‘prediction’）。Ultralytics YOLO11 提供了一项强大的功能，即预测模式，专为对各种数据源进行高性能、实时推理而量身定制。 实际应用    制造业 体育 安全          汽车备件检测 足球运动员检测">
<meta property="og:type" content="article">
<meta property="og:title" content="yolo">
<meta property="og:url" content="https://borrowyourhuaji.github.io/2025/09/13/yolo/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="使用 Ultralytics YOLO 进行模型预测 简介 在机器学习和计算机视觉领域，对视觉数据进行理解处理的过程称为“推理”（‘inference’）或“预测”（‘prediction’）。Ultralytics YOLO11 提供了一项强大的功能，即预测模式，专为对各种数据源进行高性能、实时推理而量身定制。 实际应用    制造业 体育 安全          汽车备件检测 足球运动员检测">
<meta property="og:locale">
<meta property="article:published_time" content="2025-09-13T13:57:08.000Z">
<meta property="article:modified_time" content="2025-09-13T14:01:34.318Z">
<meta property="article:author" content="borrowyourhuaji">
<meta property="article:tag" content="文档、库">
<meta name="twitter:card" content="summary">
  <!-- Canonical links -->
  <link rel="canonical" href="https://borrowyourhuaji.github.io/2025/09/13/yolo/index.html">
  
  
    <link rel="icon" href="/favicon.gif" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  

<meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
</head>


<body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="" target="_blank">
          <img class="img-circle img-rotate" src="/images/4%20(1).gif" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">borrowyourhuaji</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md">😋</h3>
        <small id="sign" class="text-muted hidden-xs hidden-sm"> 时而滑稽之，不亦说乎？</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="Search" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="Type something..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav ">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <span class="menu-title">Home</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <span class="menu-title">Archives</span>
          </a>
        </li>
        
      </ul>
      
    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">Board</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <img src="/favicon.gif" alt="?">
            </div>
        </div>
    </div>
</div>

    
      

    
      
  <div class="widget">
    <h3 class="widget-title">Tags</h3>
    <div class="widget-body">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/service/" rel="tag">service</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%87%E6%A1%A3%E3%80%81%E5%BA%93/" rel="tag">文档、库</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a><span class="tag-list-count">3</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget-body tagcloud">
      <a href="/tags/service/" style="font-size: 13.5px;">service</a> <a href="/tags/%E6%96%87%E6%A1%A3%E3%80%81%E5%BA%93/" style="font-size: 13px;">文档、库</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 14px;">算法</a>
    </div>
  </div>

    
      
  <div class="widget">
    <h3 class="widget-title">Archive</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/09/">September 2025</a><span class="archive-list-count">6</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2025/09/13/ubuntu-services-cmommand/" class="title">ubuntu services cmommand</a>
              </p>
              <p class="item-date">
                <time datetime="2025-09-13T15:42:12.000Z" itemprop="datePublished">2025-09-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2025/09/13/ubuntu-common-cmommand/" class="title">ubuntu common cmommand</a>
              </p>
              <p class="item-date">
                <time datetime="2025-09-13T15:37:46.000Z" itemprop="datePublished">2025-09-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2025/09/13/%E6%95%B0%E4%BD%8Ddp/" class="title">数位dp</a>
              </p>
              <p class="item-date">
                <time datetime="2025-09-13T15:00:51.000Z" itemprop="datePublished">2025-09-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2025/09/13/yolo/" class="title">yolo</a>
              </p>
              <p class="item-date">
                <time datetime="2025-09-13T13:57:08.000Z" itemprop="datePublished">2025-09-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2025/09/13/%E7%BA%BF%E6%AE%B5%E6%A0%91/" class="title">线段树</a>
              </p>
              <p class="item-date">
                <time datetime="2025-09-13T12:57:08.000Z" itemprop="datePublished">2025-09-13</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<main class="main" role="main">
  <div class="content">
  <article id="post-yolo" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      yolo
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2025/09/13/yolo/" class="article-date">
	  <time datetime="2025-09-13T13:57:08.000Z" itemprop="datePublished">2025-09-13</time>
	</a>
</span>
        
        
  <span class="article-tag">
    <i class="icon icon-tags"></i>
	<a class="article-tag-link-link" href="/tags/%E6%96%87%E6%A1%A3%E3%80%81%E5%BA%93/" rel="tag">文档、库</a>
  </span>


        
      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <h1 id="%E4%BD%BF%E7%94%A8-ultralytics-yolo-%E8%BF%9B%E8%A1%8C%E6%A8%A1%E5%9E%8B%E9%A2%84%E6%B5%8B" tabindex="-1">使用 Ultralytics YOLO 进行模型预测</h1>
<h2 id="%E7%AE%80%E4%BB%8B" tabindex="-1">简介</h2>
<p>在<strong>机器学习</strong>和<strong>计算机视觉</strong>领域，对视觉数据进行理解处理的过程称为“推理”（‘inference’）或“预测”（‘prediction’）。Ultralytics YOLO11 提供了一项强大的功能，即<strong>预测模式</strong>，专为对各种数据源进行高性能、实时推理而量身定制。</p>
<h2 id="%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8" tabindex="-1">实际应用</h2>
<table>
<thead>
<tr>
<th style="text-align:center">制造业</th>
<th style="text-align:center">体育</th>
<th style="text-align:center">安全</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">汽车备件检测</td>
<td style="text-align:center">足球运动员检测</td>
<td style="text-align:center">人员跌倒检测</td>
</tr>
</tbody>
</table>
<h2 id="%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9-ultralytics-yolo-%E8%BF%9B%E8%A1%8C%E6%8E%A8%E7%90%86%EF%BC%9F" tabindex="-1">为什么选择 Ultralytics YOLO 进行推理？</h2>
<p>以下是你应该考虑将 YOLO11 的预测模式用于各种推理需求的原因：</p>
<ul>
<li><strong>多功能性</strong>：能够对图像、视频甚至直播流进行推理。</li>
<li><strong>性能</strong>：专为实时、高速处理而设计，同时不牺牲<strong>准确性</strong>。</li>
<li><strong>易用性</strong>：直观的 Python 和 CLI 界面，可实现快速部署和测试。</li>
<li><strong>高度可定制</strong>：提供各种设置和参数，以根据你的特定要求调整模型的推理行为。</li>
</ul>
<h3 id="%E9%A2%84%E6%B5%8B%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%85%B3%E9%94%AE%E5%8A%9F%E8%83%BD" tabindex="-1">预测模式的关键功能</h3>
<p>YOLO11 的预测模式设计得既稳健又通用，具备以下特点：</p>
<ul>
<li><strong>多数据源兼容性</strong>：无论你的数据是单个图像、一系列图像、视频文件还是实时视频流，预测模式都能处理。</li>
<li><strong>流式处理模式</strong>：使用流式处理功能可以生成一个内存高效的 <code>Results</code> 对象生成器。通过在预测器的调用方法中设置 <code>stream=True</code> 来启用此功能。</li>
<li><strong>批量处理</strong>：能够一次性处理多张图像或视频帧，进一步加快推理时间。</li>
<li><strong>易于集成</strong>：由于其灵活的 API，可以轻松集成到现有的数据管道和其他软件组件中。</li>
</ul>
<p>Ultralytics YOLO 模型在推理时，如果传递了 <code>stream=True</code>，则返回一个内存高效的 <code>Results</code> 对象生成器；否则，返回一个 <code>Results</code> 对象列表。</p>
<p>!!! example “预测”</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">=== &quot;使用 `stream=False` 返回列表&quot;</span><br><span class="line"></span><br><span class="line">    ```python</span><br><span class="line">    from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line">    # 加载模型</span><br><span class="line">    model = YOLO(&quot;yolo11n.pt&quot;)  # 预训练的 YOLO11n 模型</span><br><span class="line"></span><br><span class="line">    # 对图像列表进行批量推理</span><br><span class="line">    results = model([&quot;image1.jpg&quot;, &quot;image2.jpg&quot;])  # 返回一个 Results 对象列表</span><br><span class="line"></span><br><span class="line">    # 处理结果列表</span><br><span class="line">    for result in results:</span><br><span class="line">        boxes = result.boxes  # 用于边界框输出的 Boxes 对象</span><br><span class="line">        masks = result.masks  # 用于分割掩码输出的 Masks 对象</span><br><span class="line">        keypoints = result.keypoints  # 用于姿态输出的 Keypoints 对象</span><br><span class="line">        probs = result.probs  # 用于分类输出的 Probs 对象</span><br><span class="line">        obb = result.obb  # 用于 OBB 输出的定向框对象</span><br><span class="line">        result.show()  # 显示到屏幕</span><br><span class="line">        result.save(filename=&quot;result.jpg&quot;)  # 保存到磁盘</span><br><span class="line">    ```</span><br><span class="line"></span><br><span class="line">=== &quot;使用 `stream=True` 返回生成器&quot;</span><br><span class="line"></span><br><span class="line">    ```python</span><br><span class="line">    from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line">    # 加载模型</span><br><span class="line">    model = YOLO(&quot;yolo11n.pt&quot;)  # 预训练的 YOLO11n 模型</span><br><span class="line"></span><br><span class="line">    # 对图像列表进行批量推理</span><br><span class="line">    results = model([&quot;image1.jpg&quot;, &quot;image2.jpg&quot;], stream=True)  # 返回一个 Results 对象生成器</span><br><span class="line"></span><br><span class="line">    # 处理结果生成器</span><br><span class="line">    for result in results:</span><br><span class="line">        boxes = result.boxes  # 用于边界框输出的 Boxes 对象</span><br><span class="line">        masks = result.masks  # 用于分割掩码输出的 Masks 对象</span><br><span class="line">        keypoints = result.keypoints  # 用于姿态输出的 Keypoints 对象</span><br><span class="line">        probs = result.probs  # 用于分类输出的 Probs 对象</span><br><span class="line">        obb = result.obb  # 用于 OBB 输出的定向框对象</span><br><span class="line">        result.show()  # 显示到屏幕</span><br><span class="line">        result.save(filename=&quot;result.jpg&quot;)  # 保存到磁盘</span><br><span class="line">    ```</span><br></pre></td></tr></table></figure>
<h2 id="%E6%8E%A8%E7%90%86%E6%BA%90" tabindex="-1">推理源</h2>
<p>YOLO11 可以处理不同类型的输入源进行推理，如下表所示。来源包括静态图像、视频流和各种数据格式。该表还指出每个源是否可以使用参数 <code>stream=True</code> 在流式处理模式下使用 ✅。流式处理模式对于处理视频或直播流很有用，因为它会创建一个结果生成器，而不是将所有帧都加载到内存中。</p>
<p>!!! tip</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">使用 `stream=True` 来处理长视频或大型数据集，以高效地管理内存。当 `stream=False` 时，所有帧或数据点的结果都存储在内存中，这可能很快累积并导致大型输入出现内存不足错误。相比之下，`stream=True` 使用生成器，它只将当前帧或数据点的结果保存在内存中，从而显著减少内存消耗并防止内存不足问题。</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:left">源</th>
<th style="text-align:left">示例</th>
<th style="text-align:left">类型</th>
<th style="text-align:left">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">图像</td>
<td style="text-align:left"><code>'image.jpg'</code></td>
<td style="text-align:left"><code>str</code> 或 <code>Path</code></td>
<td style="text-align:left">单个图像文件。</td>
</tr>
<tr>
<td style="text-align:left">URL</td>
<td style="text-align:left"><code>'https://ultralytics.com/images/bus.jpg'</code></td>
<td style="text-align:left"><code>str</code></td>
<td style="text-align:left">图像的 URL。</td>
</tr>
<tr>
<td style="text-align:left">截图</td>
<td style="text-align:left"><code>'screen'</code></td>
<td style="text-align:left"><code>str</code></td>
<td style="text-align:left">捕获屏幕截图。</td>
</tr>
<tr>
<td style="text-align:left">PIL</td>
<td style="text-align:left"><code>Image.open('image.jpg')</code></td>
<td style="text-align:left"><code>PIL.Image</code></td>
<td style="text-align:left">HWC 格式，带有 RGB 通道。</td>
</tr>
<tr>
<td style="text-align:left"><strong>OpenCV</strong></td>
<td style="text-align:left"><code>cv2.imread('image.jpg')</code></td>
<td style="text-align:left"><code>np.ndarray</code></td>
<td style="text-align:left">HWC 格式，带有 BGR 通道 <code>uint8 (0-255)</code>。</td>
</tr>
<tr>
<td style="text-align:left">numpy</td>
<td style="text-align:left"><code>np.zeros((640,1280,3))</code></td>
<td style="text-align:left"><code>np.ndarray</code></td>
<td style="text-align:left">HWC 格式，带有 BGR 通道 <code>uint8 (0-255)</code>。</td>
</tr>
<tr>
<td style="text-align:left">torch</td>
<td style="text-align:left"><code>torch.zeros(16,3,320,640)</code></td>
<td style="text-align:left"><code>torch.Tensor</code></td>
<td style="text-align:left">BCHW 格式，带有 RGB 通道 <code>float32 (0.0-1.0)</code>。</td>
</tr>
<tr>
<td style="text-align:left">CSV</td>
<td style="text-align:left"><code>'sources.csv'</code></td>
<td style="text-align:left"><code>str</code> 或 <code>Path</code></td>
<td style="text-align:left">包含图像、视频或目录路径的 CSV 文件。</td>
</tr>
<tr>
<td style="text-align:left">视频 ✅</td>
<td style="text-align:left"><code>'video.mp4'</code></td>
<td style="text-align:left"><code>str</code> 或 <code>Path</code></td>
<td style="text-align:left">格式为 MP4、AVI 等的视频文件。</td>
</tr>
<tr>
<td style="text-align:left">目录 ✅</td>
<td style="text-align:left"><code>'path/'</code></td>
<td style="text-align:left"><code>str</code> 或 <code>Path</code></td>
<td style="text-align:left">包含图像或视频的目录路径。</td>
</tr>
<tr>
<td style="text-align:left">glob ✅</td>
<td style="text-align:left"><code>'path/*.jpg'</code></td>
<td style="text-align:left"><code>str</code></td>
<td style="text-align:left">用于匹配多个文件的 glob 模式。使用 <code>*</code> 字符作为通配符。</td>
</tr>
<tr>
<td style="text-align:left">YouTube ✅</td>
<td style="text-align:left"><code>'https://youtu.be/LNwODJXcvt4'</code></td>
<td style="text-align:left"><code>str</code></td>
<td style="text-align:left">YouTube 视频的 URL。</td>
</tr>
<tr>
<td style="text-align:left">流 ✅</td>
<td style="text-align:left"><code>'rtsp://example.com/media.mp4'</code></td>
<td style="text-align:left"><code>str</code></td>
<td style="text-align:left">用于 RTSP、RTMP、TCP 等流媒体协议或 IP 地址的 URL。</td>
</tr>
<tr>
<td style="text-align:left">多流 ✅</td>
<td style="text-align:left"><code>'list.streams'</code></td>
<td style="text-align:left"><code>str</code> 或 <code>Path</code></td>
<td style="text-align:left"><code>.streams</code> 文本文件，每行一个流 URL，即 8 个流将以批量大小 8 运行。</td>
</tr>
<tr>
<td style="text-align:left">摄像头 ✅</td>
<td style="text-align:left"><code>0</code></td>
<td style="text-align:left"><code>int</code></td>
<td style="text-align:left">连接的摄像头设备的索引，用于运行推理。</td>
</tr>
</tbody>
</table>
<p>以下是使用每种源类型的代码示例：</p>
<p>!!! example “预测源”</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br></pre></td><td class="code"><pre><span class="line">=== &quot;图像&quot;</span><br><span class="line"></span><br><span class="line">    对图像文件运行推理。</span><br><span class="line">    ```python</span><br><span class="line">    from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line">    # 加载预训练的 YOLO11n 模型</span><br><span class="line">    model = YOLO(&quot;yolo11n.pt&quot;)</span><br><span class="line"></span><br><span class="line">    # 定义图像文件路径</span><br><span class="line">    source = &quot;path/to/image.jpg&quot;</span><br><span class="line"></span><br><span class="line">    # 对源运行推理</span><br><span class="line">    results = model(source)  # Results 对象列表</span><br><span class="line">    ```</span><br><span class="line"></span><br><span class="line">=== &quot;截图&quot;</span><br><span class="line"></span><br><span class="line">    将当前屏幕内容作为截图运行推理。</span><br><span class="line">    ```python</span><br><span class="line">    from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line">    # 加载预训练的 YOLO11n 模型</span><br><span class="line">    model = YOLO(&quot;yolo11n.pt&quot;)</span><br><span class="line"></span><br><span class="line">    # 定义当前截图为源</span><br><span class="line">    source = &quot;screen&quot;</span><br><span class="line"></span><br><span class="line">    # 对源运行推理</span><br><span class="line">    results = model(source)  # Results 对象列表</span><br><span class="line">    ```</span><br><span class="line"></span><br><span class="line">=== &quot;URL&quot;</span><br><span class="line"></span><br><span class="line">    对通过 URL 远程托管的图像或视频运行推理。</span><br><span class="line">    ```python</span><br><span class="line">    from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line">    # 加载预训练的 YOLO11n 模型</span><br><span class="line">    model = YOLO(&quot;yolo11n.pt&quot;)</span><br><span class="line"></span><br><span class="line">    # 定义远程图像或视频 URL</span><br><span class="line">    source = &quot;https://ultralytics.com/images/bus.jpg&quot;</span><br><span class="line"></span><br><span class="line">    # 对源运行推理</span><br><span class="line">    results = model(source)  # Results 对象列表</span><br><span class="line">    ```</span><br><span class="line"></span><br><span class="line">=== &quot;PIL&quot;</span><br><span class="line"></span><br><span class="line">    对使用 Python Imaging Library (PIL) 打开的图像运行推理。</span><br><span class="line">    ```python</span><br><span class="line">    from PIL import Image</span><br><span class="line"></span><br><span class="line">    from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line">    # 加载预训练的 YOLO11n 模型</span><br><span class="line">    model = YOLO(&quot;yolo11n.pt&quot;)</span><br><span class="line"></span><br><span class="line">    # 使用 PIL 打开图像</span><br><span class="line">    source = Image.open(&quot;path/to/image.jpg&quot;)</span><br><span class="line"></span><br><span class="line">    # 对源运行推理</span><br><span class="line">    results = model(source)  # Results 对象列表</span><br><span class="line">    ```</span><br><span class="line"></span><br><span class="line">=== &quot;OpenCV&quot;</span><br><span class="line"></span><br><span class="line">    对使用 OpenCV 读取的图像运行推理。</span><br><span class="line">    ```python</span><br><span class="line">    import cv2</span><br><span class="line"></span><br><span class="line">    from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line">    # 加载预训练的 YOLO11n 模型</span><br><span class="line">    model = YOLO(&quot;yolo11n.pt&quot;)</span><br><span class="line"></span><br><span class="line">    # 使用 OpenCV 读取图像</span><br><span class="line">    source = cv2.imread(&quot;path/to/image.jpg&quot;)</span><br><span class="line"></span><br><span class="line">    # 对源运行推理</span><br><span class="line">    results = model(source)  # Results 对象列表</span><br><span class="line">    ```</span><br><span class="line"></span><br><span class="line">=== &quot;numpy&quot;</span><br><span class="line"></span><br><span class="line">    对表示为 numpy 数组的图像运行推理。</span><br><span class="line">    ```python</span><br><span class="line">    import numpy as np</span><br><span class="line"></span><br><span class="line">    from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line">    # 加载预训练的 YOLO11n 模型</span><br><span class="line">    model = YOLO(&quot;yolo11n.pt&quot;)</span><br><span class="line"></span><br><span class="line">    # 创建一个 HWC 形状 (640, 640, 3)，值范围 [0, 255]，类型为 uint8 的随机 numpy 数组</span><br><span class="line">    source = np.random.randint(low=0, high=255, size=(640, 640, 3), dtype=&quot;uint8&quot;)</span><br><span class="line"></span><br><span class="line">    # 对源运行推理</span><br><span class="line">    results = model(source)  # Results 对象列表</span><br><span class="line">    ```</span><br><span class="line"></span><br><span class="line">=== &quot;torch&quot;</span><br><span class="line"></span><br><span class="line">    对表示为 **PyTorch** 张量的图像运行推理。</span><br><span class="line">    ```python</span><br><span class="line">    import torch</span><br><span class="line"></span><br><span class="line">    from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line">    # 加载预训练的 YOLO11n 模型</span><br><span class="line">    model = YOLO(&quot;yolo11n.pt&quot;)</span><br><span class="line"></span><br><span class="line">    # 创建一个 BCHW 形状 (1, 3, 640, 640)，值范围 [0, 1]，类型为 float32 的随机 torch 张量</span><br><span class="line">    source = torch.rand(1, 3, 640, 640, dtype=torch.float32)</span><br><span class="line"></span><br><span class="line">    # 对源运行推理</span><br><span class="line">    results = model(source)  # Results 对象列表</span><br><span class="line">    ```</span><br><span class="line"></span><br><span class="line">=== &quot;CSV&quot;</span><br><span class="line"></span><br><span class="line">    对 CSV 文件中列出的图像、URL、视频和目录集合运行推理。</span><br><span class="line">    ```python</span><br><span class="line">    from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line">    # 加载预训练的 YOLO11n 模型</span><br><span class="line">    model = YOLO(&quot;yolo11n.pt&quot;)</span><br><span class="line"></span><br><span class="line">    # 定义一个包含图像、URL、视频和目录的 CSV 文件的路径</span><br><span class="line">    source = &quot;path/to/file.csv&quot;</span><br><span class="line"></span><br><span class="line">    # 对源运行推理</span><br><span class="line">    results = model(source)  # Results 对象列表</span><br><span class="line">    ```</span><br><span class="line"></span><br><span class="line">=== &quot;视频&quot;</span><br><span class="line"></span><br><span class="line">    对视频文件运行推理。通过使用 `stream=True`，你可以创建一个 `Results` 对象生成器以减少内存使用。</span><br><span class="line">    ```python</span><br><span class="line">    from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line">    # 加载预训练的 YOLO11n 模型</span><br><span class="line">    model = YOLO(&quot;yolo11n.pt&quot;)</span><br><span class="line"></span><br><span class="line">    # 定义视频文件路径</span><br><span class="line">    source = &quot;path/to/video.mp4&quot;</span><br><span class="line"></span><br><span class="line">    # 对源运行推理</span><br><span class="line">    results = model(source, stream=True)  # Results 对象生成器</span><br><span class="line">    ```</span><br><span class="line"></span><br><span class="line">=== &quot;目录&quot;</span><br><span class="line"></span><br><span class="line">    对目录中的所有图像和视频运行推理。若要同时捕获子目录中的图像和视频，请使用 glob 模式，例如 `path/to/dir/**/*`。</span><br><span class="line">    ```python</span><br><span class="line">    from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line">    # 加载预训练的 YOLO11n 模型</span><br><span class="line">    model = YOLO(&quot;yolo11n.pt&quot;)</span><br><span class="line"></span><br><span class="line">    # 定义包含用于推理的图像和视频的目录路径</span><br><span class="line">    source = &quot;path/to/dir&quot;</span><br><span class="line"></span><br><span class="line">    # 对源运行推理</span><br><span class="line">    results = model(source, stream=True)  # Results 对象生成器</span><br><span class="line">    ```</span><br><span class="line"></span><br><span class="line">=== &quot;glob&quot;</span><br><span class="line"></span><br><span class="line">    对所有与带有 `*` 字符的 glob 表达式匹配的图像和视频运行推理。</span><br><span class="line">    ```python</span><br><span class="line">    from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line">    # 加载预训练的 YOLO11n 模型</span><br><span class="line">    model = YOLO(&quot;yolo11n.pt&quot;)</span><br><span class="line"></span><br><span class="line">    # 定义一个 glob 搜索，以查找目录中的所有 JPG 文件</span><br><span class="line">    source = &quot;path/to/dir/*.jpg&quot;</span><br><span class="line"></span><br><span class="line">    # 或者定义一个递归 glob 搜索，以查找包括子目录在内的所有 JPG 文件</span><br><span class="line">    source = &quot;path/to/dir/**/*.jpg&quot;</span><br><span class="line"></span><br><span class="line">    # 对源运行推理</span><br><span class="line">    results = model(source, stream=True)  # Results 对象生成器</span><br><span class="line">    ```</span><br><span class="line"></span><br><span class="line">=== &quot;YouTube&quot;</span><br><span class="line"></span><br><span class="line">    对 YouTube 视频运行推理。通过使用 `stream=True`，你可以创建一个 `Results` 对象生成器以减少长视频的内存使用。</span><br><span class="line">    ```python</span><br><span class="line">    from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line">    # 加载预训练的 YOLO11n 模型</span><br><span class="line">    model = YOLO(&quot;yolo11n.pt&quot;)</span><br><span class="line"></span><br><span class="line">    # 定义源为 YouTube 视频 URL</span><br><span class="line">    source = &quot;https://youtu.be/LNwODJXcvt4&quot;</span><br><span class="line"></span><br><span class="line">    # 对源运行推理</span><br><span class="line">    results = model(source, stream=True)  # Results 对象生成器</span><br><span class="line">    ```</span><br><span class="line"></span><br><span class="line">=== &quot;流&quot;</span><br><span class="line"></span><br><span class="line">    使用流模式通过 RTSP、RTMP、TCP 或 IP 地址协议对直播流进行推理。如果提供单个流，模型将以**批量大小**为 1 运行推理。对于多个流，可以使用 `.streams` 文本文件执行批量推理，其中批量大小由提供的流数量决定（例如，8 个流的批量大小为 8）。</span><br><span class="line"></span><br><span class="line">    ```python</span><br><span class="line">    from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line">    # 加载预训练的 YOLO11n 模型</span><br><span class="line">    model = YOLO(&quot;yolo11n.pt&quot;)</span><br><span class="line"></span><br><span class="line">    # 批量大小为 1 的单个流推理</span><br><span class="line">    source = &quot;rtsp://example.com/media.mp4&quot;  # RTSP、RTMP、TCP 或 IP 流地址</span><br><span class="line"></span><br><span class="line">    # 对源运行推理</span><br><span class="line">    results = model(source, stream=True)  # Results 对象生成器</span><br><span class="line">    ```</span><br><span class="line"></span><br><span class="line">    对于单个流使用，批量大小默认为 1，从而实现对视频流的高效实时处理。</span><br><span class="line"></span><br><span class="line">=== &quot;多流&quot;</span><br><span class="line"></span><br><span class="line">    要同时处理多个视频流，请使用包含流源的 `.streams` 文本文件。模型将运行批量推理，其中批量大小等于流的数量。此设置可实现对多个视频流的并发高效处理。</span><br><span class="line"></span><br><span class="line">    ```python</span><br><span class="line">    from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line">    # 加载预训练的 YOLO11n 模型</span><br><span class="line">    model = YOLO(&quot;yolo11n.pt&quot;)</span><br><span class="line"></span><br><span class="line">    # 多个流进行批量推理（例如，8 个流的批量大小为 8）</span><br><span class="line">    source = &quot;path/to/list.streams&quot;  # *.streams 文本文件，每行一个流地址</span><br><span class="line"></span><br><span class="line">    # 对源运行推理</span><br><span class="line">    results = model(source, stream=True)  # Results 对象生成器</span><br><span class="line">    ```</span><br><span class="line"></span><br><span class="line">    `.streams` 文本文件示例：</span><br><span class="line"></span><br><span class="line">    ```text</span><br><span class="line">    rtsp://example.com/media1.mp4</span><br><span class="line">    rtsp://example.com/media2.mp4</span><br><span class="line">    rtmp://example2.com/live</span><br><span class="line">    tcp://192.168.1.100:554</span><br><span class="line">    ...</span><br><span class="line">    ```</span><br><span class="line"></span><br><span class="line">    文件中的每一行都代表一个流源，让你能够同时监控和对多个视频流进行推理。</span><br><span class="line"></span><br><span class="line">=== &quot;摄像头&quot;</span><br><span class="line"></span><br><span class="line">    你可以通过传递特定摄像头的索引来对连接的摄像头设备运行推理。</span><br><span class="line"></span><br><span class="line">    ```python</span><br><span class="line">    from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line">    # 加载预训练的 YOLO11n 模型</span><br><span class="line">    model = YOLO(&quot;yolo11n.pt&quot;)</span><br><span class="line"></span><br><span class="line">    # 对源运行推理</span><br><span class="line">    results = model(source=0, stream=True)  # Results 对象生成器</span><br><span class="line">    ```</span><br></pre></td></tr></table></figure>
<h2 id="%E6%8E%A8%E7%90%86%E5%8F%82%E6%95%B0" tabindex="-1">推理参数</h2>
<p><code>model.predict()</code> 接受多个参数，这些参数可以在推理时传递以覆盖默认值：</p>
<p>!!! example</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">```python</span><br><span class="line">from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line"># 加载预训练的 YOLO11n 模型</span><br><span class="line">model = YOLO(&quot;yolo11n.pt&quot;)</span><br><span class="line"></span><br><span class="line"># 对 &#x27;bus.jpg&#x27; 运行推理，并带有参数</span><br><span class="line">model.predict(&quot;https://ultralytics.com/images/bus.jpg&quot;, save=True, imgsz=320, conf=0.5)</span><br><span class="line">```</span><br></pre></td></tr></table></figure>
<p>推理参数：</p>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">类型</th>
<th style="text-align:left">默认值</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>source</code></td>
<td style="text-align:left"><code>str, int, Path</code></td>
<td style="text-align:left"><code>'ultralytics.com/images/bus.jpg'</code></td>
<td style="text-align:left">输入源的路径。可以是文件、目录、URL、视频或 RTMP 流。</td>
</tr>
<tr>
<td style="text-align:left"><code>model</code></td>
<td style="text-align:left"><code>str</code></td>
<td style="text-align:left"><code>'yolov11n.pt'</code></td>
<td style="text-align:left">要运行推理的模型文件的路径。</td>
</tr>
<tr>
<td style="text-align:left"><code>conf</code></td>
<td style="text-align:left"><code>float</code></td>
<td style="text-align:left"><code>0.25</code></td>
<td style="text-align:left">对象置信度阈值。</td>
</tr>
<tr>
<td style="text-align:left"><code>iou</code></td>
<td style="text-align:left"><code>float</code></td>
<td style="text-align:left"><code>0.7</code></td>
<td style="text-align:left">边界框交并比 (IoU) 阈值，用于非最大抑制 (NMS)。</td>
</tr>
<tr>
<td style="text-align:left"><code>imgsz</code></td>
<td style="text-align:left"><code>int</code> 或 <code>tuple</code></td>
<td style="text-align:left"><code>640</code></td>
<td style="text-align:left">输入图像的大小，可以是单个整数（正方形）或 (高度, 宽度) 元组。</td>
</tr>
<tr>
<td style="text-align:left"><code>half</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left"><code>False</code></td>
<td style="text-align:left">如果 GPU 可用，则使用 FP16 半精度推理。</td>
</tr>
<tr>
<td style="text-align:left"><code>device</code></td>
<td style="text-align:left"><code>int</code> 或 <code>str</code></td>
<td style="text-align:left"><code>None</code></td>
<td style="text-align:left">要使用的设备（例如 <code>cuda:0</code> 或 <code>0,1,2,3</code> 或 <code>cpu</code>）。</td>
</tr>
<tr>
<td style="text-align:left"><code>show</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left"><code>False</code></td>
<td style="text-align:left">是否在屏幕上显示结果。</td>
</tr>
<tr>
<td style="text-align:left"><code>save</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left"><code>False</code></td>
<td style="text-align:left">是否将预测结果保存到文件中。</td>
</tr>
<tr>
<td style="text-align:left"><code>save_txt</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left"><code>False</code></td>
<td style="text-align:left">是否将预测结果以 <code>.txt</code> 格式保存。</td>
</tr>
<tr>
<td style="text-align:left"><code>save_conf</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left"><code>False</code></td>
<td style="text-align:left">是否在保存的标签中包含置信度分数。</td>
</tr>
<tr>
<td style="text-align:left"><code>save_crop</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left"><code>False</code></td>
<td style="text-align:left">是否保存裁剪后的预测结果。</td>
</tr>
<tr>
<td style="text-align:left"><code>hide_labels</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left"><code>False</code></td>
<td style="text-align:left">是否隐藏预测标签。</td>
</tr>
<tr>
<td style="text-align:left"><code>hide_conf</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left"><code>False</code></td>
<td style="text-align:left">是否隐藏预测置信度分数。</td>
</tr>
<tr>
<td style="text-align:left"><code>max_det</code></td>
<td style="text-align:left"><code>int</code></td>
<td style="text-align:left"><code>300</code></td>
<td style="text-align:left">每张图像的最大检测数量。</td>
</tr>
<tr>
<td style="text-align:left"><code>vid_stride</code></td>
<td style="text-align:left"><code>int</code></td>
<td style="text-align:left"><code>1</code></td>
<td style="text-align:left">视频帧步长。</td>
</tr>
<tr>
<td style="text-align:left"><code>stream_buffer</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left"><code>False</code></td>
<td style="text-align:left">是否缓冲流帧。</td>
</tr>
<tr>
<td style="text-align:left"><code>line_thickness</code></td>
<td style="text-align:left"><code>int</code></td>
<td style="text-align:left"><code>2</code></td>
<td style="text-align:left">边界框的线条粗细（以像素为单位）。</td>
</tr>
<tr>
<td style="text-align:left"><code>visualize</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left"><code>False</code></td>
<td style="text-align:left">在模型推理期间可视化模型特征。</td>
</tr>
<tr>
<td style="text-align:left"><code>augment</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left"><code>False</code></td>
<td style="text-align:left">在推理时应用图像增强（测试时增强）。</td>
</tr>
<tr>
<td style="text-align:left"><code>agnostic_nms</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left"><code>False</code></td>
<td style="text-align:left">执行类别无关的非最大抑制（NMS）。</td>
</tr>
<tr>
<td style="text-align:left"><code>retina_masks</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left"><code>False</code></td>
<td style="text-align:left">使用高分辨率分割掩码。</td>
</tr>
<tr>
<td style="text-align:left"><code>boxes</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left"><code>True</code></td>
<td style="text-align:left">是否在结果中显示边界框。</td>
</tr>
</tbody>
</table>
<p>可视化参数：</p>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">类型</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>conf</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left">包含检测置信度分数。</td>
<td style="text-align:left"><code>True</code></td>
</tr>
<tr>
<td style="text-align:left"><code>line_width</code></td>
<td style="text-align:left"><code>float</code></td>
<td style="text-align:left">边界框的线条宽度。如果为 <code>None</code>，则随图像大小缩放。</td>
<td style="text-align:left"><code>None</code></td>
</tr>
<tr>
<td style="text-align:left"><code>font_size</code></td>
<td style="text-align:left"><code>float</code></td>
<td style="text-align:left">文本字体大小。如果为 <code>None</code>，则随图像大小缩放。</td>
<td style="text-align:left"><code>None</code></td>
</tr>
<tr>
<td style="text-align:left"><code>font</code></td>
<td style="text-align:left"><code>str</code></td>
<td style="text-align:left">文本注释的字体名称。</td>
<td style="text-align:left"><code>'Arial.ttf'</code></td>
</tr>
<tr>
<td style="text-align:left"><code>pil</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left">将图像作为 PIL Image 对象返回。</td>
<td style="text-align:left"><code>False</code></td>
</tr>
<tr>
<td style="text-align:left"><code>img</code></td>
<td style="text-align:left"><code>np.ndarray</code></td>
<td style="text-align:left">用于绘图的替代图像。如果为 <code>None</code>，则使用原始图像。</td>
<td style="text-align:left"><code>None</code></td>
</tr>
<tr>
<td style="text-align:left"><code>im_gpu</code></td>
<td style="text-align:left"><code>torch.Tensor</code></td>
<td style="text-align:left">用于更快掩码绘图的 GPU 加速图像。形状：(1, 3, 640, 640)。</td>
<td style="text-align:left"><code>None</code></td>
</tr>
<tr>
<td style="text-align:left"><code>kpt_radius</code></td>
<td style="text-align:left"><code>int</code></td>
<td style="text-align:left">绘制的关键点的半径。</td>
<td style="text-align:left"><code>5</code></td>
</tr>
<tr>
<td style="text-align:left"><code>kpt_line</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left">用线条连接关键点。</td>
<td style="text-align:left"><code>True</code></td>
</tr>
<tr>
<td style="text-align:left"><code>labels</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left">在注释中包含类别标签。</td>
<td style="text-align:left"><code>True</code></td>
</tr>
<tr>
<td style="text-align:left"><code>boxes</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left">在图像上叠加边界框。</td>
<td style="text-align:left"><code>True</code></td>
</tr>
<tr>
<td style="text-align:left"><code>masks</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left">在图像上叠加掩码。</td>
<td style="text-align:left"><code>True</code></td>
</tr>
<tr>
<td style="text-align:left"><code>probs</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left">包含分类概率。</td>
<td style="text-align:left"><code>True</code></td>
</tr>
<tr>
<td style="text-align:left"><code>show</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left">使用默认图像查看器直接显示带注释的图像。</td>
<td style="text-align:left"><code>False</code></td>
</tr>
<tr>
<td style="text-align:left"><code>save</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left">将带注释的图像保存到由 <code>filename</code> 指定的文件。</td>
<td style="text-align:left"><code>False</code></td>
</tr>
<tr>
<td style="text-align:left"><code>filename</code></td>
<td style="text-align:left"><code>str</code></td>
<td style="text-align:left">如果 <code>save</code> 为 <code>True</code>，则为保存带注释的图像的文件路径和名称。</td>
<td style="text-align:left"><code>None</code></td>
</tr>
<tr>
<td style="text-align:left"><code>color_mode</code></td>
<td style="text-align:left"><code>str</code></td>
<td style="text-align:left">指定颜色模式，例如 ‘instance’ 或 ‘class’。</td>
<td style="text-align:left"><code>'class'</code></td>
</tr>
<tr>
<td style="text-align:left"><code>txt_color</code></td>
<td style="text-align:left"><code>tuple[int, int, int]</code></td>
<td style="text-align:left">边界框和图像分类标签的 RGB 文本颜色。</td>
<td style="text-align:left"><code>(255, 255, 255)</code></td>
</tr>
</tbody>
</table>
<h2 id="%E5%9B%BE%E5%83%8F%E5%92%8C%E8%A7%86%E9%A2%91%E6%A0%BC%E5%BC%8F" tabindex="-1">图像和视频格式</h2>
<p>YOLO11 支持多种图像和视频格式，具体请参见 <a target="_blank" rel="noopener" href="https://github.com/ultralytics/ultralytics/blob/main/ultralytics/data/utils.py">ultralytics/data/utils.py</a>。下表列出了有效的后缀和预测命令示例。</p>
<h3 id="%E5%9B%BE%E5%83%8F" tabindex="-1">图像</h3>
<p>下表包含有效的 Ultralytics 图像格式。</p>
<p>!!! note</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HEIC 图像仅支持推理，不支持训练。</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:left">图像后缀</th>
<th style="text-align:left">预测命令示例</th>
<th style="text-align:left">参考</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>.bmp</code></td>
<td style="text-align:left"><code>yolo predict source=image.bmp</code></td>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/BMP_file_format">Microsoft BMP 文件格式</a></td>
</tr>
<tr>
<td style="text-align:left"><code>.dng</code></td>
<td style="text-align:left"><code>yolo predict source=image.dng</code></td>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Digital_Negative">Adobe DNG</a></td>
</tr>
<tr>
<td style="text-align:left"><code>.jpeg</code></td>
<td style="text-align:left"><code>yolo predict source=image.jpeg</code></td>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/JPEG">JPEG</a></td>
</tr>
<tr>
<td style="text-align:left"><code>.jpg</code></td>
<td style="text-align:left"><code>yolo predict source=image.jpg</code></td>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/JPEG">JPEG</a></td>
</tr>
<tr>
<td style="text-align:left"><code>.mpo</code></td>
<td style="text-align:left"><code>yolo predict source=image.mpo</code></td>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://fileinfo.com/extension/mpo">多图片对象</a></td>
</tr>
<tr>
<td style="text-align:left"><code>.png</code></td>
<td style="text-align:left"><code>yolo predict source=image.png</code></td>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/PNG">便携式网络图形</a></td>
</tr>
<tr>
<td style="text-align:left"><code>.tif</code></td>
<td style="text-align:left"><code>yolo predict source=image.tif</code></td>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/TIFF">标签图像文件格式</a></td>
</tr>
<tr>
<td style="text-align:left"><code>.tiff</code></td>
<td style="text-align:left"><code>yolo predict source=image.tiff</code></td>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/TIFF">标签图像文件格式</a></td>
</tr>
<tr>
<td style="text-align:left"><code>.webp</code></td>
<td style="text-align:left"><code>yolo predict source=image.webp</code></td>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/WebP">WebP</a></td>
</tr>
<tr>
<td style="text-align:left"><code>.pfm</code></td>
<td style="text-align:left"><code>yolo predict source=image.pfm</code></td>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Netpbm#File_formats">便携式浮点地图</a></td>
</tr>
<tr>
<td style="text-align:left"><code>.HEIC</code></td>
<td style="text-align:left"><code>yolo predict source=image.HEIC</code></td>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/HEIF">高效图像文件格式</a></td>
</tr>
</tbody>
</table>
<h3 id="%E8%A7%86%E9%A2%91" tabindex="-1">视频</h3>
<p>下表包含有效的 Ultralytics 视频格式。</p>
<table>
<thead>
<tr>
<th style="text-align:left">视频后缀</th>
<th style="text-align:left">预测命令示例</th>
<th style="text-align:left">参考</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>.asf</code></td>
<td style="text-align:left"><code>yolo predict source=video.asf</code></td>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Advanced_Systems_Format">高级系统格式</a></td>
</tr>
<tr>
<td style="text-align:left"><code>.avi</code></td>
<td style="text-align:left"><code>yolo predict source=video.avi</code></td>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Audio_Video_Interleave">音频视频交错</a></td>
</tr>
<tr>
<td style="text-align:left"><code>.gif</code></td>
<td style="text-align:left"><code>yolo predict source=video.gif</code></td>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/GIF">图形交换格式</a></td>
</tr>
<tr>
<td style="text-align:left"><code>.m4v</code></td>
<td style="text-align:left"><code>yolo predict source=video.m4v</code></td>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/M4V">MPEG-4 Part 14</a></td>
</tr>
<tr>
<td style="text-align:left"><code>.mkv</code></td>
<td style="text-align:left"><code>yolo predict source=video.mkv</code></td>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Matroska">Matroska</a></td>
</tr>
<tr>
<td style="text-align:left"><code>.mov</code></td>
<td style="text-align:left"><code>yolo predict source=video.mov</code></td>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/QuickTime_File_Format">QuickTime 文件格式</a></td>
</tr>
<tr>
<td style="text-align:left"><code>.mp4</code></td>
<td style="text-align:left"><code>yolo predict source=video.mp4</code></td>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MPEG-4 Part 14 - Wikipedia</a></td>
</tr>
<tr>
<td style="text-align:left"><code>.mpeg</code></td>
<td style="text-align:left"><code>yolo predict source=video.mpeg</code></td>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/MPEG-1">MPEG-1 Part 2</a></td>
</tr>
<tr>
<td style="text-align:left"><code>.mpg</code></td>
<td style="text-align:left"><code>yolo predict source=video.mpg</code></td>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/MPEG-1">MPEG-1 Part 2</a></td>
</tr>
<tr>
<td style="text-align:left"><code>.ts</code></td>
<td style="text-align:left"><code>yolo predict source=video.ts</code></td>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/MPEG_transport_stream">MPEG 传输流</a></td>
</tr>
<tr>
<td style="text-align:left"><code>.wmv</code></td>
<td style="text-align:left"><code>yolo predict source=video.wmv</code></td>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Windows_Media_Video">Windows Media Video</a></td>
</tr>
<tr>
<td style="text-align:left"><code>.webm</code></td>
<td style="text-align:left"><code>yolo predict source=video.webm</code></td>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/WebM">WebM 项目</a></td>
</tr>
</tbody>
</table>
<h2 id="%E5%A4%84%E7%90%86%E7%BB%93%E6%9E%9C" tabindex="-1">处理结果</h2>
<p>所有 Ultralytics 的 <code>predict()</code> 调用都将返回一个 <code>Results</code> 对象列表：</p>
<p>!!! example “结果”</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">```python</span><br><span class="line">from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line"># 加载预训练的 YOLO11n 模型</span><br><span class="line">model = YOLO(&quot;yolo11n.pt&quot;)</span><br><span class="line"></span><br><span class="line"># 对图像运行推理</span><br><span class="line">results = model(&quot;https://ultralytics.com/images/bus.jpg&quot;)</span><br><span class="line">results = model(</span><br><span class="line">    [</span><br><span class="line">        &quot;https://ultralytics.com/images/bus.jpg&quot;,</span><br><span class="line">        &quot;https://ultralytics.com/images/zidane.jpg&quot;,</span><br><span class="line">    ]</span><br><span class="line">)  # 批量推理</span><br><span class="line">```</span><br></pre></td></tr></table></figure>
<p><code>Results</code> 对象具有以下属性：</p>
<table>
<thead>
<tr>
<th style="text-align:left">属性</th>
<th style="text-align:left">类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>orig_img</code></td>
<td style="text-align:left"><code>np.ndarray</code></td>
<td style="text-align:left">作为 numpy 数组的原始图像。</td>
</tr>
<tr>
<td style="text-align:left"><code>orig_shape</code></td>
<td style="text-align:left"><code>tuple</code></td>
<td style="text-align:left">原始图像形状，格式为 (高度, 宽度)。</td>
</tr>
<tr>
<td style="text-align:left"><code>boxes</code></td>
<td style="text-align:left"><code>Boxes, optional</code></td>
<td style="text-align:left">包含检测边界框的 Boxes 对象。</td>
</tr>
<tr>
<td style="text-align:left"><code>masks</code></td>
<td style="text-align:left"><code>Masks, optional</code></td>
<td style="text-align:left">包含检测掩码的 Masks 对象。</td>
</tr>
<tr>
<td style="text-align:left"><code>probs</code></td>
<td style="text-align:left"><code>Probs, optional</code></td>
<td style="text-align:left">包含用于分类任务的每个类别的概率的 Probs 对象。</td>
</tr>
<tr>
<td style="text-align:left"><code>keypoints</code></td>
<td style="text-align:left"><code>Keypoints, optional</code></td>
<td style="text-align:left">包含每个对象检测到的关键点的 Keypoints 对象。</td>
</tr>
<tr>
<td style="text-align:left"><code>obb</code></td>
<td style="text-align:left"><code>OBB, optional</code></td>
<td style="text-align:left">包含定向边界框的 OBB 对象。</td>
</tr>
<tr>
<td style="text-align:left"><code>speed</code></td>
<td style="text-align:left"><code>dict</code></td>
<td style="text-align:left">字典，包含每个图像的预处理、推理和后处理速度（以毫秒为单位）。</td>
</tr>
<tr>
<td style="text-align:left"><code>names</code></td>
<td style="text-align:left"><code>dict</code></td>
<td style="text-align:left">将类别索引映射到类别名称的字典。</td>
</tr>
<tr>
<td style="text-align:left"><code>path</code></td>
<td style="text-align:left"><code>str</code></td>
<td style="text-align:left">图像文件路径。</td>
</tr>
<tr>
<td style="text-align:left"><code>save_dir</code></td>
<td style="text-align:left"><code>str, optional</code></td>
<td style="text-align:left">保存结果的目录。</td>
</tr>
</tbody>
</table>
<p><code>Results</code> 对象具有以下方法：</p>
<table>
<thead>
<tr>
<th style="text-align:left">方法</th>
<th style="text-align:left">返回类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>update()</code></td>
<td style="text-align:left"><code>None</code></td>
<td style="text-align:left">使用新的检测数据（框、掩码、概率、OBB、关键点）更新 <code>Results</code> 对象。</td>
</tr>
<tr>
<td style="text-align:left"><code>cpu()</code></td>
<td style="text-align:left"><code>Results</code></td>
<td style="text-align:left">返回 <code>Results</code> 对象的副本，所有张量都已移动到 CPU 内存。</td>
</tr>
<tr>
<td style="text-align:left"><code>numpy()</code></td>
<td style="text-align:left"><code>Results</code></td>
<td style="text-align:left">返回 <code>Results</code> 对象的副本，所有张量都已转换为 numpy 数组。</td>
</tr>
<tr>
<td style="text-align:left"><code>cuda()</code></td>
<td style="text-align:left"><code>Results</code></td>
<td style="text-align:left">返回 <code>Results</code> 对象的副本，所有张量都已移动到 GPU 内存。</td>
</tr>
<tr>
<td style="text-align:left"><code>to()</code></td>
<td style="text-align:left"><code>Results</code></td>
<td style="text-align:left">返回 <code>Results</code> 对象的副本，其中张量已移动到指定的设备和数据类型。</td>
</tr>
<tr>
<td style="text-align:left"><code>new()</code></td>
<td style="text-align:left"><code>Results</code></td>
<td style="text-align:left">创建一个具有相同图像、路径、名称和速度属性的新 <code>Results</code> 对象。</td>
</tr>
<tr>
<td style="text-align:left"><code>plot()</code></td>
<td style="text-align:left"><code>np.ndarray</code></td>
<td style="text-align:left">在输入的 RGB 图像上绘制检测结果并返回带注释的图像。</td>
</tr>
<tr>
<td style="text-align:left"><code>show()</code></td>
<td style="text-align:left"><code>None</code></td>
<td style="text-align:left">显示带有注释的推理结果图像。</td>
</tr>
<tr>
<td style="text-align:left"><code>save()</code></td>
<td style="text-align:left"><code>str</code></td>
<td style="text-align:left">将带有注释的推理结果图像保存到文件并返回文件名。</td>
</tr>
<tr>
<td style="text-align:left"><code>verbose()</code></td>
<td style="text-align:left"><code>str</code></td>
<td style="text-align:left">返回每个任务的日志字符串，详细说明检测和分类结果。</td>
</tr>
<tr>
<td style="text-align:left"><code>save_txt()</code></td>
<td style="text-align:left"><code>str</code></td>
<td style="text-align:left">将检测结果保存到文本文件并返回保存文件的路径。</td>
</tr>
<tr>
<td style="text-align:left"><code>save_crop()</code></td>
<td style="text-align:left"><code>None</code></td>
<td style="text-align:left">将裁剪后的检测图像保存到指定的目录。</td>
</tr>
<tr>
<td style="text-align:left"><code>summary()</code></td>
<td style="text-align:left"><code>List[Dict[str, Any]]</code></td>
<td style="text-align:left">将推理结果转换为摘要字典，并可选择进行归一化。</td>
</tr>
<tr>
<td style="text-align:left"><code>to_df()</code></td>
<td style="text-align:left"><code>DataFrame</code></td>
<td style="text-align:left">将检测结果转换为 Polars DataFrame。</td>
</tr>
<tr>
<td style="text-align:left"><code>to_csv()</code></td>
<td style="text-align:left"><code>str</code></td>
<td style="text-align:left">将检测结果转换为 CSV 格式。</td>
</tr>
<tr>
<td style="text-align:left"><code>to_json()</code></td>
<td style="text-align:left"><code>str</code></td>
<td style="text-align:left">将检测结果转换为 JSON 格式。</td>
</tr>
</tbody>
</table>
<p>有关更多详细信息，请参阅 <a target="_blank" rel="noopener" href="https://www.google.com/search?q=../reference/engine/results.md"><code>Results</code> 类文档</a>。</p>
<h3 id="boxes" tabindex="-1">Boxes</h3>
<p><code>Boxes</code> 对象可用于索引、操作和将边界框转换为不同格式。</p>
<p>!!! example “Boxes”</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">```python</span><br><span class="line">from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line"># 加载预训练的 YOLO11n 模型</span><br><span class="line">model = YOLO(&quot;yolo11n.pt&quot;)</span><br><span class="line"></span><br><span class="line"># 对图像运行推理</span><br><span class="line">results = model(&quot;https://ultralytics.com/images/bus.jpg&quot;)  # 结果列表</span><br><span class="line"></span><br><span class="line"># 查看结果</span><br><span class="line">for r in results:</span><br><span class="line">    print(r.boxes)  # 打印包含检测边界框的 Boxes 对象</span><br><span class="line">```</span><br></pre></td></tr></table></figure>
<p>下表列出了 <code>Boxes</code> 类的方法和属性，包括它们的名称、类型和描述：</p>
<table>
<thead>
<tr>
<th style="text-align:left">名称</th>
<th style="text-align:left">类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>cpu()</code></td>
<td style="text-align:left">方法</td>
<td style="text-align:left">将对象移动到 CPU 内存。</td>
</tr>
<tr>
<td style="text-align:left"><code>numpy()</code></td>
<td style="text-align:left">方法</td>
<td style="text-align:left">将对象转换为 numpy 数组。</td>
</tr>
<tr>
<td style="text-align:left"><code>cuda()</code></td>
<td style="text-align:left">方法</td>
<td style="text-align:left">将对象移动到 CUDA 内存。</td>
</tr>
<tr>
<td style="text-align:left"><code>to()</code></td>
<td style="text-align:left">方法</td>
<td style="text-align:left">将对象移动到指定的设备。</td>
</tr>
<tr>
<td style="text-align:left"><code>xyxy</code></td>
<td style="text-align:left">属性 (<code>torch.Tensor</code>)</td>
<td style="text-align:left">以 xyxy 格式返回框。</td>
</tr>
<tr>
<td style="text-align:left"><code>conf</code></td>
<td style="text-align:left">属性 (<code>torch.Tensor</code>)</td>
<td style="text-align:left">返回框的置信度值。</td>
</tr>
<tr>
<td style="text-align:left"><code>cls</code></td>
<td style="text-align:left">属性 (<code>torch.Tensor</code>)</td>
<td style="text-align:left">返回框的类别值。</td>
</tr>
<tr>
<td style="text-align:left"><code>id</code></td>
<td style="text-align:left">属性 (<code>torch.Tensor</code>)</td>
<td style="text-align:left">返回框的跟踪 ID（如果可用）。</td>
</tr>
<tr>
<td style="text-align:left"><code>xywh</code></td>
<td style="text-align:left">属性 (<code>torch.Tensor</code>)</td>
<td style="text-align:left">以 xywh 格式返回框。</td>
</tr>
<tr>
<td style="text-align:left"><code>xyxyn</code></td>
<td style="text-align:left">属性 (<code>torch.Tensor</code>)</td>
<td style="text-align:left">以 xyxy 格式返回归一化后的框（通过原始图像大小）。</td>
</tr>
<tr>
<td style="text-align:left"><code>xywhn</code></td>
<td style="text-align:left">属性 (<code>torch.Tensor</code>)</td>
<td style="text-align:left">以 xywh 格式返回归一化后的框（通过原始图像大小）。</td>
</tr>
</tbody>
</table>
<p>有关更多详细信息，请参阅 <a target="_blank" rel="noopener" href="https://www.google.com/search?q=../reference/engine/results.md%23ultralytics.engine.results.Boxes"><code>Boxes</code> 类文档</a>。</p>
<h3 id="masks" tabindex="-1">Masks</h3>
<p><code>Masks</code> 对象可用于索引、操作和将掩码转换为段。</p>
<p>!!! example “Masks”</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">```python</span><br><span class="line">from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line"># 加载预训练的 YOLO11n-seg 分割模型</span><br><span class="line">model = YOLO(&quot;yolo11n-seg.pt&quot;)</span><br><span class="line"></span><br><span class="line"># 对图像运行推理</span><br><span class="line">results = model(&quot;https://ultralytics.com/images/bus.jpg&quot;)  # 结果列表</span><br><span class="line"></span><br><span class="line"># 查看结果</span><br><span class="line">for r in results:</span><br><span class="line">    print(r.masks)  # 打印包含检测到的实例掩码的 Masks 对象</span><br><span class="line">```</span><br></pre></td></tr></table></figure>
<p>下表列出了 <code>Masks</code> 类的方法和属性，包括它们的名称、类型和描述：</p>
<table>
<thead>
<tr>
<th style="text-align:left">名称</th>
<th style="text-align:left">类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>cpu()</code></td>
<td style="text-align:left">方法</td>
<td style="text-align:left">在 CPU 内存上返回掩码张量。</td>
</tr>
<tr>
<td style="text-align:left"><code>numpy()</code></td>
<td style="text-align:left">方法</td>
<td style="text-align:left">将掩码张量作为 numpy 数组返回。</td>
</tr>
<tr>
<td style="text-align:left"><code>cuda()</code></td>
<td style="text-align:left">方法</td>
<td style="text-align:left">在 GPU 内存上返回掩码张量。</td>
</tr>
<tr>
<td style="text-align:left"><code>to()</code></td>
<td style="text-align:left">方法</td>
<td style="text-align:left">返回具有指定设备和数据类型的掩码张量。</td>
</tr>
<tr>
<td style="text-align:left"><code>xyn</code></td>
<td style="text-align:left">属性 (<code>torch.Tensor</code>)</td>
<td style="text-align:left">表示为张量的归一化段列表。</td>
</tr>
<tr>
<td style="text-align:left"><code>xy</code></td>
<td style="text-align:left">属性 (<code>torch.Tensor</code>)</td>
<td style="text-align:left">表示为张量的像素坐标中的段列表。</td>
</tr>
</tbody>
</table>
<p>有关更多详细信息，请参阅 <a target="_blank" rel="noopener" href="https://www.google.com/search?q=../reference/engine/results.md%23ultralytics.engine.results.Masks"><code>Masks</code> 类文档</a>。</p>
<h3 id="keypoints" tabindex="-1">Keypoints</h3>
<p><code>Keypoints</code> 对象可用于索引、操作和归一化坐标。</p>
<p>!!! example “Keypoints”</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">```python</span><br><span class="line">from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line"># 加载预训练的 YOLO11n-pose 姿态模型</span><br><span class="line">model = YOLO(&quot;yolo11n-pose.pt&quot;)</span><br><span class="line"></span><br><span class="line"># 对图像运行推理</span><br><span class="line">results = model(&quot;https://ultralytics.com/images/bus.jpg&quot;)  # 结果列表</span><br><span class="line"></span><br><span class="line"># 查看结果</span><br><span class="line">for r in results:</span><br><span class="line">    print(r.keypoints)  # 打印包含检测到的关键点的 Keypoints 对象</span><br><span class="line">```</span><br></pre></td></tr></table></figure>
<p>下表列出了 <code>Keypoints</code> 类的方法和属性，包括它们的名称、类型和描述：</p>
<table>
<thead>
<tr>
<th style="text-align:left">名称</th>
<th style="text-align:left">类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>cpu()</code></td>
<td style="text-align:left">方法</td>
<td style="text-align:left">在 CPU 内存上返回关键点张量。</td>
</tr>
<tr>
<td style="text-align:left"><code>numpy()</code></td>
<td style="text-align:left">方法</td>
<td style="text-align:left">将关键点张量作为 numpy 数组返回。</td>
</tr>
<tr>
<td style="text-align:left"><code>cuda()</code></td>
<td style="text-align:left">方法</td>
<td style="text-align:left">在 GPU 内存上返回关键点张量。</td>
</tr>
<tr>
<td style="text-align:left"><code>to()</code></td>
<td style="text-align:left">方法</td>
<td style="text-align:left">返回具有指定设备和数据类型的关键点张量。</td>
</tr>
<tr>
<td style="text-align:left"><code>xyn</code></td>
<td style="text-align:left">属性 (<code>torch.Tensor</code>)</td>
<td style="text-align:left">表示为张量的归一化关键点列表。</td>
</tr>
<tr>
<td style="text-align:left"><code>xy</code></td>
<td style="text-align:left">属性 (<code>torch.Tensor</code>)</td>
<td style="text-align:left">表示为张量的像素坐标中的关键点列表。</td>
</tr>
<tr>
<td style="text-align:left"><code>conf</code></td>
<td style="text-align:left">属性 (<code>torch.Tensor</code>)</td>
<td style="text-align:left">如果可用，返回关键点的置信度值，否则为 <code>None</code>。</td>
</tr>
</tbody>
</table>
<p>有关更多详细信息，请参阅 <a target="_blank" rel="noopener" href="https://www.google.com/search?q=../reference/engine/results.md%23ultralytics.engine.results.Keypoints"><code>Keypoints</code> 类文档</a>。</p>
<h3 id="probs" tabindex="-1">Probs</h3>
<p><code>Probs</code> 对象可用于索引，获取分类的 <code>top1</code> 和 <code>top5</code> 索引和分数。</p>
<p>!!! example “Probs”</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">```python</span><br><span class="line">from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line"># 加载预训练的 YOLO11n-cls 分类模型</span><br><span class="line">model = YOLO(&quot;yolo11n-cls.pt&quot;)</span><br><span class="line"></span><br><span class="line"># 对图像运行推理</span><br><span class="line">results = model(&quot;https://ultralytics.com/images/bus.jpg&quot;)  # 结果列表</span><br><span class="line"></span><br><span class="line"># 查看结果</span><br><span class="line">for r in results:</span><br><span class="line">    print(r.probs)  # 打印包含检测到的类别概率的 Probs 对象</span><br><span class="line">```</span><br></pre></td></tr></table></figure>
<p>下表总结了 <code>Probs</code> 类的方法和属性：</p>
<table>
<thead>
<tr>
<th style="text-align:left">名称</th>
<th style="text-align:left">类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>cpu()</code></td>
<td style="text-align:left">方法</td>
<td style="text-align:left">在 CPU 内存上返回概率张量的副本。</td>
</tr>
<tr>
<td style="text-align:left"><code>numpy()</code></td>
<td style="text-align:left">方法</td>
<td style="text-align:left">将概率张量作为 numpy 数组返回副本。</td>
</tr>
<tr>
<td style="text-align:left"><code>cuda()</code></td>
<td style="text-align:left">方法</td>
<td style="text-align:left">在 GPU 内存上返回概率张量的副本。</td>
</tr>
<tr>
<td style="text-align:left"><code>to()</code></td>
<td style="text-align:left">方法</td>
<td style="text-align:left">返回具有指定设备和数据类型的概率张量的副本。</td>
</tr>
<tr>
<td style="text-align:left"><code>top1</code></td>
<td style="text-align:left">属性 (<code>int</code>)</td>
<td style="text-align:left">top 1 类别的索引。</td>
</tr>
<tr>
<td style="text-align:left"><code>top5</code></td>
<td style="text-align:left">属性 (<code>list[int]</code>)</td>
<td style="text-align:left">top 5 类别的索引。</td>
</tr>
<tr>
<td style="text-align:left"><code>top1conf</code></td>
<td style="text-align:left">属性 (<code>torch.Tensor</code>)</td>
<td style="text-align:left">top 1 类别的置信度。</td>
</tr>
<tr>
<td style="text-align:left"><code>top5conf</code></td>
<td style="text-align:left">属性 (<code>torch.Tensor</code>)</td>
<td style="text-align:left">top 5 类别的置信度。</td>
</tr>
</tbody>
</table>
<p>有关更多详细信息，请参阅 <a target="_blank" rel="noopener" href="https://www.google.com/search?q=../reference/engine/results.md%23ultralytics.engine.results.Probs"><code>Probs</code> 类文档</a>。</p>
<h3 id="obb" tabindex="-1">OBB</h3>
<p><code>OBB</code> 对象可用于索引、操作和将定向边界框转换为不同格式。</p>
<p>!!! example “OBB”</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">```python</span><br><span class="line">from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line"># 加载预训练的 YOLO11n 模型</span><br><span class="line">model = YOLO(&quot;yolo11n-obb.pt&quot;)</span><br><span class="line"></span><br><span class="line"># 对图像运行推理</span><br><span class="line">results = model(&quot;https://ultralytics.com/images/boats.jpg&quot;)  # 结果列表</span><br><span class="line"></span><br><span class="line"># 查看结果</span><br><span class="line">for r in results:</span><br><span class="line">    print(r.obb)  # 打印包含定向检测边界框的 OBB 对象</span><br><span class="line">```</span><br></pre></td></tr></table></figure>
<p>下表列出了 <code>OBB</code> 类的方法和属性，包括它们的名称、类型和描述：</p>
<table>
<thead>
<tr>
<th style="text-align:left">名称</th>
<th style="text-align:left">类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>cpu()</code></td>
<td style="text-align:left">方法</td>
<td style="text-align:left">将对象移动到 CPU 内存。</td>
</tr>
<tr>
<td style="text-align:left"><code>numpy()</code></td>
<td style="text-align:left">方法</td>
<td style="text-align:left">将对象转换为 numpy 数组。</td>
</tr>
<tr>
<td style="text-align:left"><code>cuda()</code></td>
<td style="text-align:left">方法</td>
<td style="text-align:left">将对象移动到 CUDA 内存。</td>
</tr>
<tr>
<td style="text-align:left"><code>to()</code></td>
<td style="text-align:left">方法</td>
<td style="text-align:left">将对象移动到指定的设备。</td>
</tr>
<tr>
<td style="text-align:left"><code>conf</code></td>
<td style="text-align:left">属性 (<code>torch.Tensor</code>)</td>
<td style="text-align:left">返回框的置信度值。</td>
</tr>
<tr>
<td style="text-align:left"><code>cls</code></td>
<td style="text-align:left">属性 (<code>torch.Tensor</code>)</td>
<td style="text-align:left">返回框的类别值。</td>
</tr>
<tr>
<td style="text-align:left"><code>id</code></td>
<td style="text-align:left">属性 (<code>torch.Tensor</code>)</td>
<td style="text-align:left">返回框的跟踪 ID（如果可用）。</td>
</tr>
<tr>
<td style="text-align:left"><code>xyxy</code></td>
<td style="text-align:left">属性 (<code>torch.Tensor</code>)</td>
<td style="text-align:left">以 xyxy 格式返回水平框。</td>
</tr>
<tr>
<td style="text-align:left"><code>xywhr</code></td>
<td style="text-align:left">属性 (<code>torch.Tensor</code>)</td>
<td style="text-align:left">以 xywhr 格式返回旋转框。</td>
</tr>
<tr>
<td style="text-align:left"><code>xyxyxyxy</code></td>
<td style="text-align:left">属性 (<code>torch.Tensor</code>)</td>
<td style="text-align:left">以 xyxyxyxy 格式返回旋转框。</td>
</tr>
<tr>
<td style="text-align:left"><code>xyxyxyxyn</code></td>
<td style="text-align:left">属性 (<code>torch.Tensor</code>)</td>
<td style="text-align:left">以 xyxyxyxy 格式返回归一化后的旋转框（通过图像大小）。</td>
</tr>
</tbody>
</table>
<p>有关更多详细信息，请参阅 <a target="_blank" rel="noopener" href="https://www.google.com/search?q=../reference/engine/results.md%23ultralytics.engine.results.OBB"><code>OBB</code> 类文档</a>。</p>
<h2 id="%E7%BB%98%E5%88%B6%E7%BB%93%E6%9E%9C" tabindex="-1">绘制结果</h2>
<p><code>Results</code> 对象中的 <code>plot()</code> 方法通过在原始图像上叠加检测到的对象（如边界框、掩码、关键点和概率）来方便可视化预测。此方法将带注释的图像作为 NumPy 数组返回，便于显示或保存。</p>
<p>!!! example “绘图”</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">```python</span><br><span class="line">from PIL import Image</span><br><span class="line"></span><br><span class="line">from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line"># 加载预训练的 YOLO11n 模型</span><br><span class="line">model = YOLO(&quot;yolo11n.pt&quot;)</span><br><span class="line"></span><br><span class="line"># 对 &#x27;bus.jpg&#x27; 运行推理</span><br><span class="line">results = model([&quot;https://ultralytics.com/images/bus.jpg&quot;, &quot;https://ultralytics.com/images/zidane.jpg&quot;])  # 结果列表</span><br><span class="line"></span><br><span class="line"># 可视化结果</span><br><span class="line">for i, r in enumerate(results):</span><br><span class="line">    # 绘制结果图像</span><br><span class="line">    im_bgr = r.plot()  # BGR 顺序的 numpy 数组</span><br><span class="line">    im_rgb = Image.fromarray(im_bgr[..., ::-1])  # RGB 顺序的 PIL 图像</span><br><span class="line"></span><br><span class="line">    # 将结果显示到屏幕（在支持的环境中）</span><br><span class="line">    r.show()</span><br><span class="line"></span><br><span class="line">    # 将结果保存到磁盘</span><br><span class="line">    r.save(filename=f&quot;results&#123;i&#125;.jpg&quot;)</span><br><span class="line">```</span><br></pre></td></tr></table></figure>
<h3 id="plot()-%E6%96%B9%E6%B3%95%E5%8F%82%E6%95%B0" tabindex="-1"><code>plot()</code> 方法参数</h3>
<p><code>plot()</code> 方法支持各种参数来自定义输出：</p>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">类型</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>conf</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left">包含检测置信度分数。</td>
<td style="text-align:left"><code>True</code></td>
</tr>
<tr>
<td style="text-align:left"><code>line_width</code></td>
<td style="text-align:left"><code>float</code></td>
<td style="text-align:left">边界框的线条宽度。如果为 <code>None</code>，则随图像大小缩放。</td>
<td style="text-align:left"><code>None</code></td>
</tr>
<tr>
<td style="text-align:left"><code>font_size</code></td>
<td style="text-align:left"><code>float</code></td>
<td style="text-align:left">文本字体大小。如果为 <code>None</code>，则随图像大小缩放。</td>
<td style="text-align:left"><code>None</code></td>
</tr>
<tr>
<td style="text-align:left"><code>font</code></td>
<td style="text-align:left"><code>str</code></td>
<td style="text-align:left">文本注释的字体名称。</td>
<td style="text-align:left"><code>'Arial.ttf'</code></td>
</tr>
<tr>
<td style="text-align:left"><code>pil</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left">将图像作为 PIL Image 对象返回。</td>
<td style="text-align:left"><code>False</code></td>
</tr>
<tr>
<td style="text-align:left"><code>img</code></td>
<td style="text-align:left"><code>np.ndarray</code></td>
<td style="text-align:left">用于绘图的替代图像。如果为 <code>None</code>，则使用原始图像。</td>
<td style="text-align:left"><code>None</code></td>
</tr>
<tr>
<td style="text-align:left"><code>im_gpu</code></td>
<td style="text-align:left"><code>torch.Tensor</code></td>
<td style="text-align:left">用于更快掩码绘图的 GPU 加速图像。形状：(1, 3, 640, 640)。</td>
<td style="text-align:left"><code>None</code></td>
</tr>
<tr>
<td style="text-align:left"><code>kpt_radius</code></td>
<td style="text-align:left"><code>int</code></td>
<td style="text-align:left">绘制的关键点的半径。</td>
<td style="text-align:left"><code>5</code></td>
</tr>
<tr>
<td style="text-align:left"><code>kpt_line</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left">用线条连接关键点。</td>
<td style="text-align:left"><code>True</code></td>
</tr>
<tr>
<td style="text-align:left"><code>labels</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left">在注释中包含类别标签。</td>
<td style="text-align:left"><code>True</code></td>
</tr>
<tr>
<td style="text-align:left"><code>boxes</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left">在图像上叠加边界框。</td>
<td style="text-align:left"><code>True</code></td>
</tr>
<tr>
<td style="text-align:left"><code>masks</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left">在图像上叠加掩码。</td>
<td style="text-align:left"><code>True</code></td>
</tr>
<tr>
<td style="text-align:left"><code>probs</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left">包含分类概率。</td>
<td style="text-align:left"><code>True</code></td>
</tr>
<tr>
<td style="text-align:left"><code>show</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left">使用默认图像查看器直接显示带注释的图像。</td>
<td style="text-align:left"><code>False</code></td>
</tr>
<tr>
<td style="text-align:left"><code>save</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left">将带注释的图像保存到由 <code>filename</code> 指定的文件。</td>
<td style="text-align:left"><code>False</code></td>
</tr>
<tr>
<td style="text-align:left"><code>filename</code></td>
<td style="text-align:left"><code>str</code></td>
<td style="text-align:left">如果 <code>save</code> 为 <code>True</code>，则为保存带注释的图像的文件路径和名称。</td>
<td style="text-align:left"><code>None</code></td>
</tr>
<tr>
<td style="text-align:left"><code>color_mode</code></td>
<td style="text-align:left"><code>str</code></td>
<td style="text-align:left">指定颜色模式，例如 ‘instance’ 或 ‘class’。</td>
<td style="text-align:left"><code>'class'</code></td>
</tr>
<tr>
<td style="text-align:left"><code>txt_color</code></td>
<td style="text-align:left"><code>tuple[int, int, int]</code></td>
<td style="text-align:left">边界框和图像分类标签的 RGB 文本颜色。</td>
<td style="text-align:left"><code>(255, 255, 255)</code></td>
</tr>
</tbody>
</table>
<h2 id="%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E6%8E%A8%E7%90%86" tabindex="-1">线程安全推理</h2>
<p>当你在不同线程中并行运行多个 YOLO 模型时，确保推理的线程安全至关重要。线程安全推理可确保每个线程的预测是隔离的，并且不会相互干扰，从而避免竞态条件并确保一致且可靠的输出。</p>
<p>在多线程应用程序中使用 YOLO 模型时，为每个线程实例化单独的模型对象或采用线程本地存储以防止冲突非常重要：</p>
<p>!!! example “线程安全推理”</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">在每个线程内实例化一个模型，以实现线程安全推理：</span><br><span class="line">```python</span><br><span class="line">from threading import Thread</span><br><span class="line"></span><br><span class="line">from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def thread_safe_predict(model, image_path):</span><br><span class="line">    &quot;&quot;&quot;使用本地实例化的 YOLO 模型对图像执行线程安全预测。&quot;&quot;&quot;</span><br><span class="line">    model = YOLO(model)</span><br><span class="line">    results = model.predict(image_path)</span><br><span class="line">    # 处理结果</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 启动每个线程都有自己模型实例的线程</span><br><span class="line">Thread(target=thread_safe_predict, args=(&quot;yolo11n.pt&quot;, &quot;image1.jpg&quot;)).start()</span><br><span class="line">Thread(target=thread_safe_predict, args=(&quot;yolo11n.pt&quot;, &quot;image2.jpg&quot;)).start()</span><br><span class="line">```</span><br></pre></td></tr></table></figure>
<p>要深入了解 YOLO 模型的线程安全推理和分步说明，请参阅我们的 <a target="_blank" rel="noopener" href="https://www.google.com/search?q=../guides/yolo-thread-safe-inference.md">YOLO 线程安全推理指南</a>。本指南将为你提供所有必要的信息，以避免常见陷阱并确保你的多线程推理顺利运行。</p>
<h2 id="%E6%B5%81%E5%BC%8F%E5%A4%84%E7%90%86%E6%BA%90-for-%E5%BE%AA%E7%8E%AF" tabindex="-1">流式处理源 <code>for</code> 循环</h2>
<p>这是一个使用 OpenCV (<code>cv2</code>) 和 YOLO 对视频帧运行推理的 Python 脚本。该脚本假设你已安装所需的包（<code>opencv-python</code> 和 <code>ultralytics</code>）。</p>
<p>!!! example “流式处理 for 循环”</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">```python</span><br><span class="line">import cv2</span><br><span class="line"></span><br><span class="line">from ultralytics import YOLO</span><br><span class="line"></span><br><span class="line"># 加载 YOLO 模型</span><br><span class="line">model = YOLO(&quot;yolo11n.pt&quot;)</span><br><span class="line"></span><br><span class="line"># 打开视频文件</span><br><span class="line">video_path = &quot;path/to/your/video/file.mp4&quot;</span><br><span class="line">cap = cv2.VideoCapture(video_path)</span><br><span class="line"></span><br><span class="line"># 循环遍历视频帧</span><br><span class="line">while cap.isOpened():</span><br><span class="line">    # 从视频中读取一帧</span><br><span class="line">    success, frame = cap.read()</span><br><span class="line"></span><br><span class="line">    if success:</span><br><span class="line">        # 在帧上运行 YOLO 推理</span><br><span class="line">        results = model(frame)</span><br><span class="line"></span><br><span class="line">        # 在帧上可视化结果</span><br><span class="line">        annotated_frame = results[0].plot()</span><br><span class="line"></span><br><span class="line">        # 显示带注释的帧</span><br><span class="line">        cv2.imshow(&quot;YOLO Inference&quot;, annotated_frame)</span><br><span class="line"></span><br><span class="line">        # 如果按下 &#x27;q&#x27; 键，则中断循环</span><br><span class="line">        if cv2.waitKey(1) &amp; 0xFF == ord(&quot;q&quot;):</span><br><span class="line">            break</span><br><span class="line">    else:</span><br><span class="line">        # 如果到达视频末尾，则中断循环</span><br><span class="line">        break</span><br><span class="line"></span><br><span class="line"># 释放视频捕获对象并关闭显示窗口</span><br><span class="line">cap.release()</span><br><span class="line">cv2.destroyAllWindows()</span><br><span class="line">```</span><br></pre></td></tr></table></figure>
<p>该脚本将在视频的每一帧上运行预测，可视化结果，并在窗口中显示它们。可以通过按 ‘q’ 键退出循环。</p>
<h2 id="%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98-(faq)" tabindex="-1">常见问题 (FAQ)</h2>
<h3 id="%E4%BB%80%E4%B9%88%E6%98%AF-ultralytics-yolo-%E5%8F%8A%E5%85%B6%E7%94%A8%E4%BA%8E%E5%AE%9E%E6%97%B6%E6%8E%A8%E7%90%86%E7%9A%84%E9%A2%84%E6%B5%8B%E6%A8%A1%E5%BC%8F%EF%BC%9F" tabindex="-1">什么是 Ultralytics YOLO 及其用于实时推理的预测模式？</h3>
<p>Ultralytics YOLO 是一种用于实时<strong>目标检测</strong>、分割和分类的最新模型。其<strong>预测模式</strong>允许用户对各种数据源（如图像、视频和直播流）执行高速推理。它专为性能和多功能性而设计，还提供批量处理和流式处理模式。有关其功能的更多详细信息，请查看 <a target="_blank" rel="noopener" href="https://www.google.com/search?q=%23%E9%A2%84%E6%B5%8B%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%85%B3%E9%94%AE%E5%8A%9F%E8%83%BD">Ultralytics YOLO 预测模式</a>。</p>
<h3 id="%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8-ultralytics-yolo-%E5%AF%B9%E4%B8%8D%E5%90%8C%E7%9A%84%E6%95%B0%E6%8D%AE%E6%BA%90%E8%BF%90%E8%A1%8C%E6%8E%A8%E7%90%86%EF%BC%9F" tabindex="-1">如何使用 Ultralytics YOLO 对不同的数据源运行推理？</h3>
<p>Ultralytics YOLO 可以处理各种数据源，包括单个图像、视频、目录、URL 和流。你可以在 <code>model.predict()</code> 调用中指定数据源。例如，对于本地图像，使用 <code>'image.jpg'</code>；对于 URL，使用 <code>'https://ultralytics.com/images/bus.jpg'</code>。请查看文档中关于各种<strong>推理源</strong>的详细示例。</p>
<h3 id="%E5%A6%82%E4%BD%95%E4%BC%98%E5%8C%96-yolo-%E6%8E%A8%E7%90%86%E9%80%9F%E5%BA%A6%E5%92%8C%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%EF%BC%9F" tabindex="-1">如何优化 YOLO 推理速度和内存使用？</h3>
<p>要优化推理速度并高效管理内存，你可以通过在预测器的调用方法中设置 <code>stream=True</code> 来使用流式处理模式。流式处理模式会生成一个内存高效的 <code>Results</code> 对象生成器，而不是将所有帧加载到内存中。对于处理长视频或大型数据集，流式处理模式特别有用。了解有关<strong>流式处理模式</strong>的更多信息。</p>
<h3 id="ultralytics-yolo-%E6%94%AF%E6%8C%81%E5%93%AA%E4%BA%9B%E6%8E%A8%E7%90%86%E5%8F%82%E6%95%B0%EF%BC%9F" tabindex="-1">Ultralytics YOLO 支持哪些推理参数？</h3>
<p>YOLO 中的 <code>model.predict()</code> 方法支持各种参数，例如 <code>conf</code>、<code>iou</code>、<code>imgsz</code>、<code>device</code> 等。这些参数允许你自定义推理过程，设置置信度阈值、图像大小和用于计算的设备等参数。这些参数的详细说明可以在<strong>推理参数</strong>部分找到。</p>
<h3 id="%E5%A6%82%E4%BD%95%E5%8F%AF%E8%A7%86%E5%8C%96%E5%92%8C%E4%BF%9D%E5%AD%98-yolo-%E9%A2%84%E6%B5%8B%E7%BB%93%E6%9E%9C%EF%BC%9F" tabindex="-1">如何可视化和保存 YOLO 预测结果？</h3>
<p>使用 YOLO 运行推理后，<code>Results</code> 对象包含用于显示和保存带注释图像的方法。你可以使用 <code>result.show()</code> 和 <code>result.save(filename=&quot;result.jpg&quot;)</code> 等方法来可视化和保存结果。有关这些方法的完整列表，请参阅<strong>处理结果</strong>部分。</p>
<p>[]: #<br>
[]: #<br>
[]: #</p>
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/markdown-it-texmath/css/texmath.min.css">

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="https://borrowyourhuaji.github.io/2025/09/13/yolo/" title="yolo" target="_blank" rel="external">https://borrowyourhuaji.github.io/2025/09/13/yolo/</a>
    </li>
    
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/4%20(1).gif" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="" target="_blank"><span class="text-dark">borrowyourhuaji</span><small class="ml-1x">😋</small></a></h3>
        <div>ヾ(≧▽≦*)o</div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    
  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2025/09/13/%E6%95%B0%E4%BD%8Ddp/" title="数位dp"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;Newer</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2025/09/13/%E7%BA%BF%E6%AE%B5%E6%A0%91/" title="线段树"><span>Older&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
  </ul>
  
  
  
  <div class="bar-right">
    
  </div>
  </div>
</nav>
  


</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
    <div class="copyright">
    	
        <div class="publishby">
        	Theme by <a href="https://github.com/cofess" target="_blank"> cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.
        </div>
    </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>






   




   






</body>
</html>